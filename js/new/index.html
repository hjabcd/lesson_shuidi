<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function Foo(e) {
            this.name = 'xp'
            this.age = e
            return {}
        }
        function objectFactory() {
            const obj = {}// 1
            const Constructor = [].shift.call(arguments)// 3.取arguments中的第一个值
            // const [Constructor, ...args] = [...arguments]

            // 原型连接
            obj._proto_= Constructor.prototype// 5
            const ret = Constructor.apply(obj, arguments)// 4
            //return obj// 2
            return typeof ret === 'object' ? ret : obj
        } 
        // console.log(new Foo())
        console.log(objectFactory(Foo, 18))





        // prototype
        // _proto_
        // function abc() {

        // }
        // abc.prototype --> {constructor: f}
        // [[prototype]]
        // 隐式原型指向这个对象的函数的prototype

        // function Abc() {
        //     this.name = 'xp'
        // }
        // let test = new Abc()
        // test._proto_ = Abc.prototype
        //实例对象的隐式原型链等于构造函数的显示原型链
    </script>
</body>
</html>